@startuml
left to right direction
skinparam usecase {
  BackgroundColor LightBlue
  BorderColor DarkBlue
}

actor "Pelanggan" as Customer
actor "Dapur" as Kitchen
actor "Admin" as Admin
actor "Sistem Pembayaran Eksternal" as PaymentGateway

rectangle "Sistem Digital Wakrun" {
  (Lihat Menu Online)
  (Cari Menu Berdasarkan Kategori)
  (Lihat Detail Menu)
  (Input Nomor Meja)
  (Validasi Nomor Meja)
  (Pesan Makanan)
  (Tambah Catatan Khusus)
  (Terapkan Promo/Voucher)
  (Hitung Total Pesanan)
  (Pilih Metode Pembayaran)
  (Bayar Pesanan)
  (Batalkan Pesanan Sebelum Bayar)
  (Lihat Riwayat Pesanan)
  (Kirim Notifikasi ke Dapur)
  (Perbarui Status Pesanan)
  (Cetak Notifikasi Dapur)
  (Generate Laporan Penjualan Bulanan)
  (Ekspor Laporan ke Excel)
}

' Relasi Utama
Customer -- (Lihat Menu Online)
Customer -- (Cari Menu Berdasarkan Kategori)
Customer -- (Lihat Detail Menu)
Customer -- (Pesan Makanan)
Customer -- (Lihat Riwayat Pesanan)

' Include (wajib)
(Pesan Makanan) .> (Input Nomor Meja) : <<include>>
(Input Nomor Meja) .> (Validasi Nomor Meja) : <<include>>
(Pesan Makanan) .> (Hitung Total Pesanan) : <<include>>

' Extend (opsional/kondisional)
(Pesan Makanan) .> (Tambah Catatan Khusus) : <<extend>>
(Pesan Makanan) .> (Terapkan Promo/Voucher) : <<extend>>
(Bayar Pesanan) .> (Kirim Notifikasi ke Dapur) : <<extend>>
(Kirim Notifikasi ke Dapur) .> (Cetak Notifikasi Dapur) : <<include>>

' Aktor lain
Customer -- (Bayar Pesanan)
(Bayar Pesanan) --> PaymentGateway : menggunakan
PaymentGateway --> (Bayar Pesanan)

Kitchen -- (Perbarui Status Pesanan)
Kitchen -- (Kirim Notifikasi ke Dapur)

Admin -- (Generate Laporan Penjualan Bulanan)
(Generate Laporan Penjualan Bulanan) .> (Ekspor Laporan ke Excel) : <<include>>

' Catatan: Notifikasi hanya dikirim jika pembayaran sukses
note right of (Bayar Pesanan)
  Notifikasi ke dapur hanya
  dikirim jika pembayaran
  berhasil diverifikasi.
end note
@enduml